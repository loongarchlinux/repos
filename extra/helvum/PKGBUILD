# Maintainer: David Runge <dvzrv@archlinux.org>
# Maintainer: Jonas Witschel <diabonas@archlinux.org>

pkgname=helvum
pkgver=0.4.0
pkgrel=1
pkgdesc='GTK patchbay for PipeWire'
arch=(loong64 x86_64)
url='https://gitlab.freedesktop.org/pipewire/helvum'
license=(GPL3)
depends=(
  cairo
  gcc-libs
  gdk-pixbuf2
  glib2
  glibc
  graphene
  gtk4
  hicolor-icon-theme
  libpipewire
  pango
  pipewire
)
makedepends=(
  appstream-glib
  cargo
  clang
  meson
)
source=($url/-/archive/$pkgver/helvum-$pkgver.tar.gz)
sha512sums=('626d22a4766387b65162d9af9dfd5fb3ff23ba3c5250a939a0ce9540fd85f3369a06c94b684d3692dc51990516b6a5825aa922f7ede0a447062e076f2e2e5e76')
b2sums=('088ec6032d4700e8c3ff18695692b517ea151f8f45731bd8652ae5124088cd5fa5c5e9745bd1d105564d3ac78fd9b6e8978e40ed0229f5a145fbb895081caf94')

build() {
  arch-meson "$pkgname-$pkgver" build
  meson compile -C build
}

package() {
  meson install -C build --destdir "$pkgdir"
}
