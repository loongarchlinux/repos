# Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Contributor: Shinlun Hsieh <yngwiexx@yahoo.com.tw>

pkgname=gensio
pkgver=2.6.7
pkgrel=1
pkgdesc="General Stream I/O"
arch=(loong64 x86_64)
url="https://sourceforge.net/projects/ser2net/"
license=('GPL')
depends=()
source=("$pkgname-$pkgver.tar.gz::https://github.com/cminyard/gensio/archive/v$pkgver.tar.gz")
sha256sums=('f380d2238eb896c07217b3d55c581e588cc66d2ddb954fce379060ec7f6e0d1f')

build() {
  cd "$srcdir"/${pkgname}-${pkgver/rc/-rc}
  test -x configure || ./reconf
  ./configure --prefix=/usr --sbindir=/usr/bin --libexecdir=/usr/lib/ --with-python=no
  make
}

package() {
  cd "$srcdir"/${pkgname}-${pkgver/rc/-rc}
  make DESTDIR="$pkgdir" install
}
