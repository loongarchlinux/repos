# Maintainer: Felix Yan <felixonmars@archlinux.org>

pkgname=deepin-util-dfm
pkgver=1.2.21
pkgrel=1
pkgdesc='Qt-style Client and Server library wrapper for the Wayland libraries'
arch=('loong64' 'x86_64')
license=('LGPL')
url="https://github.com/linuxdeepin/util-dfm"
depends=('libisoburn' 'libmediainfo' 'qt5-base' 'udisks2' 'glib2' 'gcc-libs' 'util-linux-libs'
         'libsecret')
makedepends=('cmake' 'ninja')
source=("https://github.com/linuxdeepin/util-dfm/archive/$pkgver/$pkgname-$pkgver.tar.gz")
sha512sums=('2082b1fd0e97dc82e1e069c535e4df4ce0bf4fc22a9b4fb8217385e591c6e4c265f3ee3785503c9e4b78bf728ce1931402284a6e0fc8dad95742f10f34ab7597')

build() {
  cmake -G Ninja -B build -S util-dfm-$pkgver -DCMAKE_INSTALL_PREFIX=/usr
  cmake --build build
}

package() {
  DESTDIR="$pkgdir" cmake --install build
}
