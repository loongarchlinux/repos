# Maintainer: Konstantin Gizdov <arch at kge dot pw>
# Maintainer: T.J. Townsend <blakkheim@archlinux.org>
# Contributor: Markus Weimar <mail@markusweimar.de>

_pkgbase='iosevka'
_type='ttc'
pkgbase="${_type}-${_pkgbase}"
pkgname=(
    "${pkgbase}" "${pkgbase}-aile" "${pkgbase}-curly" "${pkgbase}-curly-slab" "${pkgbase}-etoile" "${pkgbase}-slab"
    "${pkgbase}-ss01" "${pkgbase}-ss02" "${pkgbase}-ss03" "${pkgbase}-ss04" "${pkgbase}-ss05" "${pkgbase}-ss06"
    "${pkgbase}-ss07" "${pkgbase}-ss08" "${pkgbase}-ss09" "${pkgbase}-ss10" "${pkgbase}-ss11" "${pkgbase}-ss12"
    "${pkgbase}-ss13" "${pkgbase}-ss14" "${pkgbase}-ss15" "${pkgbase}-ss16" "${pkgbase}-ss17" "${pkgbase}-ss18"
    )
pkgver=27.1.0
pkgrel=1
pkgdesc='Typeface family designed for coding, terminal use and technical documents.'
arch=('any')
url='https://typeof.net/Iosevka/'
license=('custom:OFL')
source=("${pkgbase}-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-${pkgver}.zip"
        "${pkgbase}-aile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-aile-${pkgver}.zip"
        "${pkgbase}-curly-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-curly-${pkgver}.zip"
        "${pkgbase}-curly-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-curly-slab-${pkgver}.zip"
        "${pkgbase}-etoile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-etoile-${pkgver}.zip"
        "${pkgbase}-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-slab-${pkgver}.zip"
        "${pkgbase}-ss01-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss01-${pkgver}.zip"
        "${pkgbase}-ss02-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss02-${pkgver}.zip"
        "${pkgbase}-ss03-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss03-${pkgver}.zip"
        "${pkgbase}-ss04-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss04-${pkgver}.zip"
        "${pkgbase}-ss05-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss05-${pkgver}.zip"
        "${pkgbase}-ss06-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss06-${pkgver}.zip"
        "${pkgbase}-ss07-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss07-${pkgver}.zip"
        "${pkgbase}-ss08-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss08-${pkgver}.zip"
        "${pkgbase}-ss09-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss09-${pkgver}.zip"
        "${pkgbase}-ss10-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss10-${pkgver}.zip"
        "${pkgbase}-ss11-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss11-${pkgver}.zip"
        "${pkgbase}-ss12-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss12-${pkgver}.zip"
        "${pkgbase}-ss13-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss13-${pkgver}.zip"
        "${pkgbase}-ss14-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss14-${pkgver}.zip"
        "${pkgbase}-ss15-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss15-${pkgver}.zip"
        "${pkgbase}-ss16-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss16-${pkgver}.zip"
        "${pkgbase}-ss17-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss17-${pkgver}.zip"
        "${pkgbase}-ss18-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss18-${pkgver}.zip"
        "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md::https://raw.githubusercontent.com/be5invis/Iosevka/v${pkgver}/LICENSE.md")
b2sums=('22471d16c4de46afe07fc64c5889a3e12322868cedb817137c473f5187afa874c557a0d229968c331c88ce9901ff41e79127fc55a06b11fbd0003c3d05a20266'
        'f145e6ba38dec8edf6260c9af6325a3c295bc8ae1550b2a9a8efe185923b83a5e7e8cd9f41d12c3cf01797b2a4980345f635aed52321e594edad3d3859f518a5'
        '4def7b8d098a044890df73112572fc98f4ed17e2a58a02cb44c4a58a66057e3b8bdc57d0760edc3280ad1a1e3bd88b5a1afd7a671686372831ceb473111188b8'
        '44d8a949b1a26a85027d1bd01e2e5556425a1f47192a39342de79f9799b4c47ee8283ffd2e3518604da61f9a8982a7d1e30c19153fd1078ee7a0d9a16129943c'
        'b5bbc282c392acc68cfa82fba42d31eda50dadfda0d5c4d13409a3f3a04060d9f7c875dab32feda402390fceb5bb6fe6598d88aa5de10a82d137362ab46f966b'
        '0ea950cf04d2a85d02d505a40b8e278ff3c419cc5b3623dfb75a6e766a7b115897a57f52e7ac2e88e2de7da93fd3e740a2b59d77aa91362754d12e1772c9a011'
        'df066f67e872f20d96a2b08b67f9088ff9646f915fd47b6bc2d73d91d1f6c1c283ae6983efe08b6a3006a3a2cbd76c924ef3d278169231774a9605980f49bc5b'
        '4065a990cc432dec776b8ed768dde28b4f8b4259e53ea6e67cc7efeec83e7944ee846736ebd5487326cb3e6b5546b2f9079c6c9f559308d4a05ac8b9ac250ec7'
        'b2ad6169d42e49f2a6922fa922750903cd35f0b0c7edb0c0431702b48b06a2f278bd571830893e03b12ecedccf039a24c3b5e12e41baa7287e310587fffb3ed3'
        '4a80094d8c452685837739da7c20239740042240530461517bb3abf66464a8d54ddaa5a190380e8730e6c2f637599a4527da46199e79bf0ae58e2501041d7c84'
        'c14930c2c814ad39b22ac2575d9b89ad9ffc1bf564f95cb171ae59f8144c4b6f8457611679bd359b287003a509ddbfcdddc07a0737a1e23dddf8d6517d154f9f'
        'da1029fe0a10dc57d225ce28bcfb3251ed43bbdb625b792782241df07920d20bace0cafdd3c7b3436b006551808d140675cab337e688e564ecb6da93c8c8b51d'
        'e1332a97e009d7046e173929ff37161165c11be3393052017f3b486caebc341928285c4558efc3f9fefa6cb250a452e24faba8c0d2830073ce9c59727192a45a'
        '1ff9229216b7aca97fa48b4ebb0fded0788df79544317e93c7afd44a1d39570f4dbe8e950becbb7d6ebfe05f928b323fdd59afcfc0e6f7b01fb90128709d0722'
        'cc85f15a91f4958ec870f9b01b11ad890abcc5510f00099d00db9904ed70082e066cdb7f6a13b3ea35831293bde42dffc18344a889bd542b31c141da7731a6e0'
        '2f2c65a750c7a195bfffb405e7e326b229c3d83fb1bf55d18837ee48f631e9310508d7ae7e5aedbe34e847d7a300815175f83186ddaa6709398d9496a12c46d9'
        'db0b4a367fa287d3c002e7fe40cff7ca4f1051870f60f8ef9fd9961dbc6f511e856a733d517fe5475ed65fa7b15b97e7112d263b4df32fff93a6861ca8d4fdab'
        '17c48e647a4f71106b3f076859c315a0388c43ea2fe43180c1be4be03d5e73733741ebb6f29685d8090caae39ca49065454dc635adac840c399901c1dc9ddebc'
        '6da5a180ef826e059cce0040e41b58e9e725cffe172f1944c4f0c23f4a3ce0329402f87bfb272f884fdd4d5a417873c24fedec11b4130c34d4949896d52f3e63'
        'cb6bdc848f19f6c67fe95368f1861d718df7820be24199d3a0907a04add2c0d81a34571414f9fd5194df7956a202388c0c8647fa342def7e77f178956eb25767'
        '4bfd3e4102779b0854461ecca513402539311d0d771ba8eb3cd6f4c75bceb2451f1ca051265fcad793da54e9dd6bd8b262dbe9995953d6a967198e83586caca1'
        'f75224cdf6fa8b409c350f3331d82369ecd080300382f2ece3925d66e88ec873fef5fc25c09b007b9c081cdb836ce7758c169a63ce3e09be26693877eea7f54b'
        'b094624bb4d24a1f71ce36a7b0398c088e73e8aef8062da017f8b70dc80b2d14f7b7d2032e1b7178a78b416c7514fa1ae0f5b7f2b07efd6d790de8a02a05a1fe'
        '07d143acf69287a54d3cd472e8fa38e63843ef300892394a2b8e7f550809d186e697c707c1ffa8d2b2a2dd8fca199cc5897445d560af81d92464e5f29a9635c7'
        'c8d1b8e38801d7c1645eb250bc36922b7286b60d96be99f0bed2ce82939d299b343cca4a5767d2c1a1f11226326009828b49a11ce0ced9682af53e44a8afbc28')



function _package() {
    cd "${srcdir}/"
    local pkgnm="${1}"
    local fontname="${pkgnm#${_type}-}"
    local fontvar="${pkgnm#${pkgbase}-}"
    fontvar="${fontvar^}"
    install -d "${pkgdir}"/usr/share/fonts/TTF
    install -m644 "${fontname}"-*.ttc "${pkgdir}"/usr/share/fonts/TTF/
    install -d "${pkgdir}"/usr/share/licenses
    if [[ "${pkgnm}" == "${pkgbase}" ]]; then
        rm -rf "${pkgdir}/usr/share/fonts/TTF"/*{aile,curly,etoile,slab,ss}*
    else
        if [[ "${pkgnm}" == "${pkgbase}-curly" ]]; then
            rm -rf "${pkgdir}/usr/share/fonts/TTF"/*curly-slab*
        fi
        if [[ "${pkgnm}" == "${pkgbase}-curly-slab" ]]; then
            pkgdesc+=" (Curly Slab variant)"
        else
            pkgdesc+=" (${fontvar} variant)"
        fi
    fi
    install -D -m644 "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md" "${pkgdir}/usr/share/licenses/${pkgnm}/LICENSE.md"
}

for _pkgname in ${pkgname[@]}; do
    eval "function package_$_pkgname() { _package $_pkgname; }"
done
