# Maintainer:
# Contributor: Daniel LÃ¶bl <dloebl.2000@gmail.com>

pkgname=libcgif
pkgver=0.0.4
pkgrel=2
pkgdesc='A fast and lightweight GIF encoding library'
arch=(loongarch64 x86_64)
url='https://github.com/dloebl/cgif'
license=(MIT)
depends=(glibc)
makedepends=(meson)
source=(https://github.com/dloebl/cgif/archive/V$pkgver/$pkgname-$pkgver.tar.gz)
sha256sums=('44928be23dee6c57f98516813926e02c7edf84dde9dc06931c5513b5d3847936')

build() {
  meson build cgif-$pkgver \
    --prefix=/usr
  meson compile -C build
}

check() {
  meson test -C build
}

package() {
 #mkdir -p "$pkgdir/usr/lib/" "$pkgdir/usr/include/" "$pkgdir/usr/share/licenses/$pkgname/"
  meson install -C build \
    --destdir "$pkgdir"
  install -Dm644 cgif-$pkgver/LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname
}
