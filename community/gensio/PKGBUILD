# Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Contributor: Shinlun Hsieh <yngwiexx@yahoo.com.tw>

pkgname=gensio
pkgver=2.6.1
pkgrel=1
pkgdesc="General Stream I/O"
arch=(loong64 x86_64)
url="https://sourceforge.net/projects/ser2net/"
license=('GPL')
depends=()
source=("$pkgname-$pkgver.tar.gz::https://github.com/cminyard/gensio/archive/v$pkgver.tar.gz")
sha256sums=('a86974a344ad69b253503c5d27847dbbba1ddd004cdfd151edc915ca4836ebbd')

build() {
  cd "$srcdir"/${pkgname}-${pkgver/rc/-rc}
  test -x configure || ./reconf
  ./configure --prefix=/usr --sbindir=/usr/bin --with-python=no
  make
}

package() {
  cd "$srcdir"/${pkgname}-${pkgver/rc/-rc}
  make DESTDIR="$pkgdir" install
}
